var CSS_ESCAPE="\\",IS_HEX_DIGIT=1,START_IDENT=2,IS_IDENT=4,IS_WHITESPACE=8,W=IS_WHITESPACE,I=IS_IDENT,S=START_IDENT,SI=IS_IDENT|START_IDENT,XI=IS_IDENT|IS_HEX_DIGIT,XSI=IS_IDENT|START_IDENT|IS_HEX_DIGIT;function jscsspToken(e,t,s){this.type=e,this.value=t,this.unit=s}function CSSScanner(e){this.init(e)}jscsspToken.NULL_TYPE=0,jscsspToken.WHITESPACE_TYPE=1,jscsspToken.STRING_TYPE=2,jscsspToken.COMMENT_TYPE=3,jscsspToken.NUMBER_TYPE=4,jscsspToken.IDENT_TYPE=5,jscsspToken.FUNCTION_TYPE=6,jscsspToken.ATRULE_TYPE=7,jscsspToken.INCLUDES_TYPE=8,jscsspToken.DASHMATCH_TYPE=9,jscsspToken.BEGINSMATCH_TYPE=10,jscsspToken.ENDSMATCH_TYPE=11,jscsspToken.CONTAINSMATCH_TYPE=12,jscsspToken.SYMBOL_TYPE=13,jscsspToken.DIMENSION_TYPE=14,jscsspToken.PERCENTAGE_TYPE=15,jscsspToken.HEX_TYPE=16,jscsspToken.INCOMPLETE_STRING_TYPE=17,jscsspToken.prototype={isNotNull:function(){return this.type},_isOfType:function(e,t){return this.type==e&&(!t||this.value.toLowerCase()==t)},isWhiteSpace:function(e){return this._isOfType(jscsspToken.WHITESPACE_TYPE,e)},isString:function(){return this._isOfType(jscsspToken.STRING_TYPE)},isComment:function(){return this._isOfType(jscsspToken.COMMENT_TYPE)},isNumber:function(e){return this._isOfType(jscsspToken.NUMBER_TYPE,e)},isSymbol:function(e){return this._isOfType(jscsspToken.SYMBOL_TYPE,e)},isIdent:function(e){return this._isOfType(jscsspToken.IDENT_TYPE,e)},isFunction:function(e){return this._isOfType(jscsspToken.FUNCTION_TYPE,e)},isAtRule:function(e){return this._isOfType(jscsspToken.ATRULE_TYPE,e)},isIncludes:function(){return this._isOfType(jscsspToken.INCLUDES_TYPE)},isDashmatch:function(){return this._isOfType(jscsspToken.DASHMATCH_TYPE)},isBeginsmatch:function(){return this._isOfType(jscsspToken.BEGINSMATCH_TYPE)},isEndsmatch:function(){return this._isOfType(jscsspToken.ENDSMATCH_TYPE)},isContainsmatch:function(){return this._isOfType(jscsspToken.CONTAINSMATCH_TYPE)},isSymbol:function(e){return this._isOfType(jscsspToken.SYMBOL_TYPE,e)},isDimension:function(){return this._isOfType(jscsspToken.DIMENSION_TYPE)},isPercentage:function(){return this._isOfType(jscsspToken.PERCENTAGE_TYPE)},isHex:function(){return this._isOfType(jscsspToken.HEX_TYPE)},isDimensionOfUnit:function(e){return this.isDimension()&&this.unit==e},isLength:function(){return this.isPercentage()||this.isDimensionOfUnit("em")||this.isDimensionOfUnit("ex")||this.isDimensionOfUnit("ch")||this.isDimensionOfUnit("px")||this.isDimensionOfUnit("vh")||this.isDimensionOfUnit("vw")||this.isDimensionOfUnit("vmin")||this.isDimensionOfUnit("vmax")||this.isDimensionOfUnit("rem")||this.isDimensionOfUnit("cm")||this.isDimensionOfUnit("mm")||this.isDimensionOfUnit("in")||this.isDimensionOfUnit("pc")||this.isDimensionOfUnit("pt")},isAngle:function(){return this.isDimensionOfUnit("deg")||this.isDimensionOfUnit("rad")||this.isDimensionOfUnit("grad")}},CSSScanner.prototype={kLexTable:[0,0,0,0,0,0,0,0,0,W,W,0,W,W,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,W,0,0,0,0,0,0,0,0,0,0,0,0,I,0,0,XI,XI,XI,XI,XI,XI,XI,XI,XI,XI,0,0,0,0,0,0,0,XSI,XSI,XSI,XSI,XSI,XSI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,0,S,0,0,SI,0,XSI,XSI,XSI,XSI,XSI,XSI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI],kHexValues:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15},mString:"",mPos:0,mPreservedPos:[],init:function(e){this.mString=e,this.mPos=0,this.mPreservedPos=[]},getCurrentPos:function(){return this.mPos},getAlreadyScanned:function(){return this.mString.substr(0,this.mPos)},preserveState:function(){this.mPreservedPos.push(this.mPos)},restoreState:function(){this.mPreservedPos.length&&(this.mPos=this.mPreservedPos.pop())},forgetState:function(){this.mPreservedPos.length&&this.mPreservedPos.pop()},read:function(){return this.mPos<this.mString.length?this.mString.charAt(this.mPos++):-1},peek:function(){return this.mPos<this.mString.length?this.mString.charAt(this.mPos):-1},isHexDigit:function(e){var t=e.charCodeAt(0);return t<256&&0!=(this.kLexTable[t]&IS_HEX_DIGIT)},isIdentStart:function(e){var t=e.charCodeAt(0);return t>=256||0!=(this.kLexTable[t]&START_IDENT)},startsWithIdent:function(e,t){return!!("-"==e&&"-"==t&&this.mPos+1<this.mString.length&&this.isIdentStart(this.mString.charAt(this.mPos+1)))||(this.isIdentStart(e)||"-"==e&&this.isIdentStart(t))},isIdent:function(e){var t=e.charCodeAt(0);return t>=256||0!=(this.kLexTable[t]&IS_IDENT)},pushback:function(){this.mPos--},nextHexValue:function(){var e=this.read();if(-1==e||!this.isHexDigit(e))return new jscsspToken(jscsspToken.NULL_TYPE,null);var t=e;for(e=this.read();-1!=e&&this.isHexDigit(e);)t+=e,e=this.read();return-1!=e&&this.pushback(),new jscsspToken(jscsspToken.HEX_TYPE,t)},gatherEscape:function(){var e=this.peek();if(-1==e)return"";if(this.isHexDigit(e)){for(var t=0,s=0;s<6;s++){if(e=this.read(),!this.isHexDigit(e)){if(this.isHexDigit(e)||this.isWhiteSpace(e))break;this.pushback();break}t=16*t+this.kHexValues[e.toLowerCase()]}return 6==s&&(e=this.peek(),this.isWhiteSpace(e)&&this.read()),String.fromCharCode(t)}return"\n"!=(e=this.read())?e:""},gatherIdent:function(e){var t="";for(t+=e==CSS_ESCAPE?this.gatherEscape():e,e=this.read();-1!=e&&(this.isIdent(e)||e==CSS_ESCAPE);)t+=e==CSS_ESCAPE?this.gatherEscape():e,e=this.read();return-1!=e&&this.pushback(),t},parseIdent:function(e){var t=this.gatherIdent(e);return"("==this.peek()?(t+=this.read(),new jscsspToken(jscsspToken.FUNCTION_TYPE,t)):new jscsspToken(jscsspToken.IDENT_TYPE,t)},isDigit:function(e){return e>="0"&&e<="9"},parseComment:function(e){for(var t=e;-1!=(e=this.read());)if(t+=e,"*"==e){if(-1==(e=this.read()))break;if("/"==e){t+=e;break}this.pushback()}return new jscsspToken(jscsspToken.COMMENT_TYPE,t)},parseNumber:function(e){for(var t=e,s=!1;-1!=(e=this.read());)if("."==e){if(s)break;t+=e,s=!0}else{if(!this.isDigit(e))break;t+=e}if(-1!=e&&this.startsWithIdent(e,this.peek())){var r=this.gatherIdent(e);return t+=r,new jscsspToken(jscsspToken.DIMENSION_TYPE,t,r)}return"%"==e?(t+="%",new jscsspToken(jscsspToken.PERCENTAGE_TYPE,t)):(-1!=e&&this.pushback(),new jscsspToken(jscsspToken.NUMBER_TYPE,t))},parseString:function(e){for(var t,s="",r=e;-1!=(t=this.read())&&(t!=e||r==CSS_ESCAPE);){if(t==CSS_ESCAPE){if(-1==(t=this.peek()))break;"\n"==t||"\r"==t||"\f"==t?(d=t,t=this.read(),"\r"==d&&"\n"==(t=this.peek())&&(t=this.read())):(s+=this.gatherEscape(),t=this.peek())}else{if("\n"==t||"\r"==t||"\f"==t)break;s+=t}r=t}return t!=e?new jscsspToken(jscsspToken.INCOMPLETE_STRING_TYPE,null):new jscsspToken(jscsspToken.STRING_TYPE,s)},isWhiteSpace:function(e){var t=e.charCodeAt(0);return t<256&&0!=(this.kLexTable[t]&IS_WHITESPACE)},eatWhiteSpace:function(e){for(var t=e;-1!=(e=this.read())&&this.isWhiteSpace(e);)t+=e;return-1!=e&&this.pushback(),t},parseAtKeyword:function(e){return new jscsspToken(jscsspToken.ATRULE_TYPE,this.gatherIdent(e))},nextToken:function(){var e=this.read();if(-1==e)return new jscsspToken(jscsspToken.NULL_TYPE,null);if(this.startsWithIdent(e,this.peek()))return this.parseIdent(e);if("@"==e){var t=this.read();if(-1!=t){var s=this.peek();if(this.pushback(),this.startsWithIdent(t,s))return this.parseAtKeyword(e)}}if("."==e||"+"==e||"-"==e){if(t=this.peek(),this.isDigit(t))return this.parseNumber(e);if("."==t&&"."!=e){firstChar=this.read();var r=this.peek();if(this.pushback(),this.isDigit(r))return this.parseNumber(e)}}if(this.isDigit(e))return this.parseNumber(e);if("'"==e||'"'==e)return this.parseString(e);if(this.isWhiteSpace(e)){var i=this.eatWhiteSpace(e);return new jscsspToken(jscsspToken.WHITESPACE_TYPE,i)}if("|"==e||"~"==e||"^"==e||"$"==e||"*"==e)if("="==(t=this.read()))switch(e){case"~":return new jscsspToken(jscsspToken.INCLUDES_TYPE,"~=");case"|":return new jscsspToken(jscsspToken.DASHMATCH_TYPE,"|=");case"^":return new jscsspToken(jscsspToken.BEGINSMATCH_TYPE,"^=");case"$":return new jscsspToken(jscsspToken.ENDSMATCH_TYPE,"$=");case"*":return new jscsspToken(jscsspToken.CONTAINSMATCH_TYPE,"*=")}else-1!=t&&this.pushback();return"/"==e&&"*"==this.peek()?this.parseComment(e):new jscsspToken(jscsspToken.SYMBOL_TYPE,e)}};var eCREATOR_COMBINATOR=1,eCREATOR_TYPE=2,eCREATOR_ID=3,eCREATOR_CLASS=4,eCREATOR_PSEUDOCLASS=5,eCREATOR_ATTRIBUTE=6,eCREATOR_TEXT=7;function Creator(){this.mList=[]}function Combinator(e){this.mSymbol=e}function TypeCreator(e){this.mTagName=e,this.mOtherCreators=null,this.mNegated=null}function IdCreator(e){this.mId=e}function ClassCreator(e){this.mClass=e}function PseudoClassCreator(e){this.mPseudoClass=e}function AttributeCreator(e,t,s){this.mName=e,this.mOperator=t,this.mValue=s}function TextCreator(e,t){this.mPosition=e,this.mText=t}function CreatorsParser(e){this.mToken=null,this.mLookAhead=null,this.mScanner=new CSSScanner(e)}Creator.prototype={mList:[],get length(){return this.mList.length},get list(){return this.mList},concat:function(){return Array.prototype.concat.apply(this.mList,arguments)},entries:function(){return this.mList.entries()},forEach:function(){return Array.prototype.forEach.apply(this.mList,arguments)},map:function(){return Array.prototype.map.apply(this.mList,arguments)},pop:function(){return this.mList.pop()},push:function(){return Array.prototype.push.apply(this.mList,arguments)},shift:function(){return this.mList.shift()},toString:function(){return this.mList.map(function(e){return e.toString()}).join("")}},Combinator.prototype={mSymbol:"",get type(){return eCREATOR_COMBINATOR},get value(){return this.mSymbol},toString:function(){return this.value.trim()?" "+this.value+" ":" "}},TypeCreator.prototype={mTagName:"",mOtherCreators:null,mNegated:null,get type(){return eCREATOR_TYPE},get value(){return this.mTagName},get creators(){return this.mOtherCreators},set creators(e){this.mOtherCreators=e},addCreator:function(){return this.mOtherCreators||(this.mOtherCreators=[]),Array.prototype.push.apply(this.mOtherCreators,arguments)},get negated(){return this.mNegated},setNegations:function(e){this.mNegated=e},toString:function(){return this.value+(this.creators?this.creators.map(function(e){return e.toString()}).join(""):"")+(this.negated?":not("+this.negated.toString()+")":"")}},IdCreator.prototype={mId:"",get type(){return eCREATOR_ID},get value(){return this.mId},toString:function(){return"#"+this.value}},ClassCreator.prototype={mClass:"",get type(){return eCREATOR_CLASS},get value(){return this.mClass},toString:function(){return"."+this.value}},PseudoClassCreator.prototype={mPseudoClass:"",get type(){return eCREATOR_PSEUDOCLASS},get value(){return this.mPseudoClass},toString:function(){return":"+this.value}},AttributeCreator.prototype={mName:"",mOperator:"",mValue:"",get type(){return eCREATOR_ATTRIBUTE},get name(){return this.mName},get operator(){return this.mOperator},get value(){return this.mValue},toString:function(){return"["+this.name+(this.mOperator?this.mOperator+'"'+this.mValue+'"':"")+"]"}},TextCreator.prototype={mPosition:"",mText:"",get type(){return eCREATOR_TEXT},get position(){return this.mPosition},get value(){return this.mText},toString:function(){return"[["+this.position+'"'+this.value+'"]]'}},CreatorsParser.prototype={kUNEXPECTED_CREATOR_END:"Unexpected end of Creator.",kMALFORMED_ID_CREATOR:"Malformed Id creator.",kMALFORMED_CLASS_CREATOR:"Malformed Class creator.",kMALFORMED_PSEUDO_CLASS_CREATOR:"Malformed PseudoClass creator.",kMALFORMED_ATTRIBUTE_CREATOR:"Malformed Attribute creator.",kEXPECTED_SIMPLE_CREATOR:"Expected Type, Id, Class, Pseudoclass or Attribute creator.",kEXPECTED_COMBINATOR:"Expected Combinator instead of ",kSYNTAX_ERROR:"Syntax Error.",kNESTED_NEGATION:"Cannot have :not() inside another :not().",kTYPE_IN_NEGATION:"Type creator not allowed inside :not().",currentToken:function(){return this.mToken},getHexValue:function(){return this.mToken=this.mScanner.nextHexValue(),this.mToken},getToken:function(e,t){if(this.mLookAhead)return this.mToken=this.mLookAhead,this.mLookAhead=null,this.mToken;for(this.mToken=this.mScanner.nextToken();this.mToken&&(e&&this.mToken.isWhiteSpace()||t&&this.mToken.isComment());)this.mToken=this.mScanner.nextToken();return this.mToken},lookAhead:function(e,t){var s=this.mToken;this.mScanner.preserveState();var r=this.getToken(e,t);return this.mScanner.restoreState(),this.mToken=s,r},ungetToken:function(){this.mLookAhead=this.mToken},fireError:function(e,t){throw e+": "+t},parse:function(e,t){var s=this.getToken(!0,!0);(!s.isNotNull()||t&&s.isSymbol(")"))&&this.fireError(e,this.kUNEXPECTED_CREATOR_END);var r=new Creator;if(!t&&(s.isSymbol(">")||s.isSymbol("+"))){var i=new Combinator(s.value);r.push(i),(!(s=this.getToken(!0,!0)).isNotNull()||t&&s.isSymbol(")"))&&this.fireError(e,this.kUNEXPECTED_CREATOR_END)}for(;s.isNotNull()&&(!t||!s.isSymbol(")"));){var n=null;for(s.isSymbol("*")?(n=new TypeCreator("*"),r.push(n),s=this.getToken(!1,!0)):s.isIdent()&&(t&&this.fireError(e,this.kTYPE_IN_NEGATION),n=new TypeCreator(s.value),r.push(n),s=this.getToken(!1,!0));s.isSymbol("#")||s.isSymbol(".")||s.isSymbol(":")||s.isSymbol("[");)if(n||(n=new TypeCreator("*"),r.push(n)),s.isSymbol("#"))if((s=this.getToken(!1,!0)).isIdent()){var o=new IdCreator(s.value);n.addCreator(o),s=this.getToken(!1,!0)}else this.fireError(e,this.kMALFORMED_ID_CREATOR);else if(s.isSymbol("."))if((s=this.getToken(!1,!0)).isIdent()){var a=new ClassCreator(s.value);n.addCreator(a),s=this.getToken(!1,!0)}else this.fireError(e,this.kMALFORMED_CLASS_CREATOR);else if(s.isSymbol(":"))if((s=this.getToken(!1,!0)).isIdent()){var h=new PseudoClassCreator(s.value);n.addCreator(h),s=this.getToken(!1,!0)}else if(s.isFunction()){switch(u=s.value.substr(0,s.value.length-1)){case"not":t&&this.fireError(e,this.kNESTED_NEGATION);var T=this.parse(e,!0);n.negated?n.negated.creators=n.negated.creators.concat(T.list[0].creators):n.setNegations(T.list[0]),s=this.getToken(!1,!0)}}else this.fireError(e,this.kMALFORMED_PSEUDO_CLASS_CREATOR);else if(s.isSymbol("["))if((s=this.getToken(!0,!0)).isIdent()){var u=s.value;if((s=this.getToken(!0,!0)).isSymbol("]")){var S=new AttributeCreator(u,null,null);n.addCreator(S),s=this.getToken(!1,!0)}else if(s.isSymbol("=")||s.isIncludes()||s.isDashMatch()||s.isBeginsMatch()||s.isEndsMatch()||s.isContainsMatch()){var c=s.value;if((s=this.getToken(!0,!0)).isIdent()||s.isString()){var E=s.value;(s=this.getToken(!0,!0)).isSymbol("]")?(S=new AttributeCreator(u,c,E),n.addCreator(S),s=this.getToken(!1,!0)):this.fireError(e,this.kMISSING_CLOSING_BRACKET)}else this.fireError(e,this.kMALFORMED_ATTRIBUTE_CREATOR)}else this.fireError(e,this.kMALFORMED_ATTRIBUTE_CREATOR)}else if(s.isSymbol("[")){var I="";if(((s=this.getToken(!0,!0)).isSymbol("^")||s.isSymbol("$"))&&(I=s.value,s=this.getToken(!0,!0)),s.isString()){var p=new TextCreator(I,s.value);n.addCreator(p),(s=this.getToken(!0,!0)).isSymbol("]")||this.fireError(e,this.MALFORMED_TEXT_CREATOR),(s=this.getToken(!1,!0)).isSymbol("]")||this.fireError(e,this.MALFORMED_TEXT_CREATOR),s=this.getToken(!1,!0)}else this.fireError(e,this.MALFORMED_TEXT_CREATOR)}else this.fireError(e,this.kMALFORMED_ATTRIBUTE_CREATOR);if(n||this.fireError(e,this.kEXPECTED_SIMPLE_CREATOR),s.isWhiteSpace()&&(s=this.getToken(!0,!0)),s.isSymbol(">")||s.isSymbol("+"))i=new Combinator(s.value),r.push(i),s=this.getToken(!0,!0);else{if(!s.isNotNull()||t&&s.isSymbol(")"))return r;this.fireError(e,this.kEXPECTED_COMBINATOR+" "+s.value)}}return r}},Document.prototype.createDocumentFragmentFromSelector=function(e){var t="createDocumentFragmentFromSelector",s=new CreatorsParser(e).parse(t,!1);if(!s.length)throw t+": Empty or unparsable selector.";if(s.list[0].type!=eCREATOR_TYPE)throw t+": Relative selectors are not allowed.";for(var r=this.createDocumentFragment(),i=r,n=0;n<s.length;n++){var o=s.list[n];switch(o.type){case eCREATOR_TYPE:if("*"==o.value)throw t+": Universal selector is not allowed.";if(o.negated)throw t+": :not() is not allowed.";var a=this.createElement(o.value),h=o.creators;if(h)for(var T=0;T<h.length;T++){var u=h[T];switch(u.type){case eCREATOR_ID:a.id=u.value;break;case eCREATOR_CLASS:a.classList.add(u.value);break;case eCREATOR_PSEUDOCLASS:throw t+": Pseudo-classes are not allowed.";case eCREATOR_ATTRIBUTE:if(u.operator)switch(u.operator){case"=":a.setAttribute(u.name,u.value);break;case"^=":a.setAttribute(u.name,u.value+a.getAttribute(u.name));break;case"~=":a.setAttribute(u.name,a.getAttribute(u.name)+u.value);break;default:throw t+": Unsupported operator in Attribute selector."}else a.setAttribute(u.name,u.name);break;case eCREATOR_TEXT:switch(u.position){case"":a.textContent=u.value;break;case"^":a.textContent=u.value+a.textContent;break;case"$":a.textContent+=u.value}break;default:throw t+": syntax error."}}i.appendChild(a);break;case eCREATOR_COMBINATOR:">"==o.value&&(i=i.lastElementChild);break;default:throw t+": syntax error."}}return r},Document.prototype.modifyElementFromSelector=function(e,t){var s="modifyElementFromSelector";if(!(e&&e instanceof Element))throw s+": First argument is not an Element.";var r=new CreatorsParser(t).parse(s,!1);if(!r.length)throw s+": Empty or unparsable selector.";if(r.length>1)throw s+": Combinators are not allowed (yet).";if(r.list[0].type!=eCREATOR_TYPE)throw s+": Relative selectors are not allowed.";for(var i=e,n=0;n<r.length;n++){var o=r.list[n];switch(o.type){case eCREATOR_TYPE:if("*"!=o.value){HTMLElement;if(i.nodeName.toLowerCase()!=o.value.toLowerCase()){for(var a=this.createElement(o.value);i.firstChild;)a.appendChild(i.firstChild);for(n=0;n<i.attributes.length;n++){var h=i.attributes.item(n);a.setAttribute(h.name,h.value)}var T=i.parentNode;T.insertBefore(a,i),T.removeChild(i),i=a}}var u=o.creators;if(u)for(var S=0;S<u.length;S++){var c=u[S];switch(c.type){case eCREATOR_ID:i.id=c.value;break;case eCREATOR_CLASS:i.classList.add(c.value);break;case eCREATOR_PSEUDOCLASS:throw s+": Pseudo-classes are not allowed.";case eCREATOR_ATTRIBUTE:if(c.operator)switch(c.operator){case"=":i.setAttribute(c.name,c.value);break;case"^=":i.setAttribute(c.name,c.value+i.getAttribute(c.name));break;case"~=":i.setAttribute(c.name,i.getAttribute(c.name)+c.value);break;default:throw s+": Unsupported operator in Attribute selector."}else i.setAttribute(c.name,c.name);break;case eCREATOR_TEXT:switch(c.position){case"":i.textContent=c.value;break;case"^":i.textContent=c.value+i.textContent;break;case"$":i.textContent+=c.value}break;default:throw s+": syntax error."}}var E=o.negated;if(o.negated)for(E=o.negated.creators,S=0;S<E.length;S++){var I=E[S];switch(I.type){case eCREATOR_ID:i.id==I.value&&i.removeAttribute("id");break;case eCREATOR_CLASS:i.classList.remove(I.value);break;case eCREATOR_PSEUDOCLASS:throw s+": Pseudo-classes are not allowed inside :not().";case eCREATOR_ATTRIBUTE:if(c.operator)throw s+": Unsupported operator in Attribute selector inside :not().";i.removeAttribute(I.name);break;case eCREATOR_TEXT:throw s+": Unsupported text creator inside :not().";default:throw s+": syntax error."}}break;case eCREATOR_COMBINATOR:throw s+": Combinators are not allowed (yet)";default:throw s+": syntax error."}}return i};
